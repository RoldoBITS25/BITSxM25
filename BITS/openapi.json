{"openapi":"3.1.0","info":{"title":"FastAPI Multiplayer Backend","description":"Real-time multiplayer backend for Unity games","version":"1.0.0"},"paths":{"/api/rooms/":{"post":{"tags":["rooms"],"summary":"Create Room","description":"Create a new game room.\n\nArgs:\n    room_data: Room creation data\n    host_player_id: ID of the player creating the room\n\nReturns:\n    Created room","operationId":"create_room_api_rooms__post","parameters":[{"name":"host_player_id","in":"query","required":true,"schema":{"type":"string","description":"Player ID of the room host","title":"Host Player Id"},"description":"Player ID of the room host"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["rooms"],"summary":"List Rooms","description":"List all available rooms.\n\nArgs:\n    include_private: Whether to include private rooms\n\nReturns:\n    List of rooms","operationId":"list_rooms_api_rooms__get","parameters":[{"name":"include_private","in":"query","required":false,"schema":{"type":"boolean","description":"Include private rooms","default":false,"title":"Include Private"},"description":"Include private rooms"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Room"},"title":"Response List Rooms Api Rooms  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}":{"get":{"tags":["rooms"],"summary":"Get Room","description":"Get details of a specific room.\n\nArgs:\n    room_id: Room identifier\n\nReturns:\n    Room details","operationId":"get_room_api_rooms__room_id__get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["rooms"],"summary":"Update Room","description":"Update room settings. Only the host can update the room.\n\nArgs:\n    room_id: Room identifier\n    room_data: Room update data\n    player_id: ID of the player making the update\n\nReturns:\n    Updated room","operationId":"update_room_api_rooms__room_id__put","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","description":"Player ID making the update","title":"Player Id"},"description":"Player ID making the update"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["rooms"],"summary":"Delete Room","description":"Delete a room. Only the host can delete the room.\n\nArgs:\n    room_id: Room identifier\n    player_id: ID of the player requesting deletion","operationId":"delete_room_api_rooms__room_id__delete","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","description":"Player ID requesting deletion","title":"Player Id"},"description":"Player ID requesting deletion"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/join":{"post":{"tags":["rooms"],"summary":"Join Room","description":"Join a room via REST API (alternative to WebSocket).\n\nArgs:\n    room_id: Room identifier\n    player_id: Player identifier\n    password: Room password if private\n\nReturns:\n    Success message and room details","operationId":"join_room_api_rooms__room_id__join_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","description":"Player ID","title":"Player Id"},"description":"Player ID"},{"name":"password","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Room password if private","title":"Password"},"description":"Room password if private"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/leave":{"post":{"tags":["rooms"],"summary":"Leave Room","description":"Leave a room via REST API (alternative to WebSocket).\n\nArgs:\n    room_id: Room identifier\n    player_id: Player identifier\n\nReturns:\n    Success message","operationId":"leave_room_api_rooms__room_id__leave_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","description":"Player ID","title":"Player Id"},"description":"Player ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/start":{"post":{"tags":["rooms"],"summary":"Start Game","description":"Start the game in a specific room. Only the host can start the game.\n\nArgs:\n    room_id: Room identifier\n    player_id: ID of the player starting the game (must be host)\n\nReturns:\n    Updated room with is_game_started=True","operationId":"start_game_api_rooms__room_id__start_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","title":"Room Id"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","description":"Player ID of the room host","title":"Player Id"},"description":"Player ID of the room host"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Room"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"Health check endpoint.\n\nReturns server status and statistics.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/enigma/generate":{"get":{"tags":["enigma"],"summary":"Generate Enigma","description":"Generate a new educational enigma puzzle.\n\nThis endpoint creates:\n- An educational word appropriate for teenagers (13-16 years old)\n- A riddle/enigma that hints at the word\n- Several educational texts (books), one of which contains the answer\n\nPlayers must read the books to find clues and solve the enigma.\n\n**Parameters:**\n- `difficulty` (optional): Difficulty level - easy, medium, or hard\n- `category` (optional): Educational category - science, history, literature, geography, mathematics, or general\n\n**Returns:**\n- `word`: The target educational word\n- `enigma`: The riddle to solve\n- `books`: Educational texts to read (one contains the answer)\n- `difficulty`: The difficulty level used\n- `category`: The category used\n\n**Example Response:**\n```json\n{\n    \"word\": \"photosynthesis\",\n    \"enigma\": \"I am a process where light becomes life...\",\n    \"books\": [\n        {\n            \"title\": \"Introduction to Botany\",\n            \"content\": \"Photosynthesis is the process...\",\n            \"is_answer\": true\n        },\n        ...\n    ],\n    \"difficulty\": \"medium\",\n    \"category\": \"science\"\n}\n```","operationId":"generate_enigma_api_enigma_generate_get","parameters":[{"name":"difficulty","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/DifficultyLevel"},{"type":"null"}],"description":"Difficulty level of the enigma (easy/medium/hard)","title":"Difficulty"},"description":"Difficulty level of the enigma (easy/medium/hard)"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/Category"},{"type":"null"}],"description":"Educational category for the word","title":"Category"},"description":"Educational category for the word"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnigmaResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/enigma/health":{"get":{"tags":["enigma"],"summary":"Enigma Health Check","description":"Check if the enigma service is properly configured.\n\nReturns information about the service configuration and status.","operationId":"enigma_health_check_api_enigma_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ws-info":{"get":{"summary":"Websocket Info","description":"WebSocket API Documentation\n\nReturns information about the WebSocket endpoint and how to use it.","operationId":"websocket_info_ws_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BookText":{"properties":{"title":{"type":"string","title":"Title","description":"Title of the book/text"},"content":{"type":"string","title":"Content","description":"Text content"},"is_answer":{"type":"boolean","title":"Is Answer","description":"Whether this text contains the answer to the enigma"}},"type":"object","required":["title","content","is_answer"],"title":"BookText","description":"A book/text excerpt that players can read in-game.","example":{"content":"Photosynthesis is the process by which plants convert light energy into chemical energy...","is_answer":true,"title":"Introduction to Botany"}},"Category":{"type":"string","enum":["science","history","literature","geography","mathematics","general"],"title":"Category","description":"Educational categories for words."},"DifficultyLevel":{"type":"string","enum":["easy","medium","hard"],"title":"DifficultyLevel","description":"Difficulty levels for enigmas."},"EnigmaResponse":{"properties":{"word":{"type":"string","title":"Word","description":"The target educational word to discover"},"enigma":{"type":"string","title":"Enigma","description":"The riddle/question players must solve"},"books":{"items":{"$ref":"#/components/schemas/BookText"},"type":"array","title":"Books","description":"Educational texts, one contains the answer"},"difficulty":{"$ref":"#/components/schemas/DifficultyLevel","description":"Difficulty level","default":"medium"},"category":{"$ref":"#/components/schemas/Category","description":"Educational category","default":"general"}},"type":"object","required":["word","enigma","books"],"title":"EnigmaResponse","description":"Response containing the educational enigma puzzle.","example":{"books":[{"content":"Photosynthesis is the remarkable process by which plants, algae, and some bacteria convert light energy into chemical energy stored in glucose. This process occurs in chloroplasts and involves chlorophyll, the green pigment that captures light energy. During photosynthesis, carbon dioxide and water are converted into glucose and oxygen, making it essential for life on Earth.","is_answer":true,"title":"Introduction to Botany"},{"content":"The Roman Empire was one of the most influential civilizations in history, spanning three continents and lasting for over a thousand years. Roman innovations in engineering, law, and government continue to influence modern society.","is_answer":false,"title":"Ancient Civilizations"},{"content":"Water continuously moves through Earth's atmosphere, land, and oceans in a process known as the water cycle. This includes evaporation, condensation, precipitation, and collection.","is_answer":false,"title":"The Water Cycle"}],"category":"science","difficulty":"medium","enigma":"I am a process where light becomes life, green factories working day and night. Without me, plants would not survive. What am I?","word":"photosynthesis"}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Room":{"properties":{"room_id":{"type":"string","title":"Room Id","description":"Unique room identifier"},"name":{"type":"string","title":"Name","description":"Room name"},"host_player_id":{"type":"string","title":"Host Player Id","description":"Room host player ID"},"max_players":{"type":"integer","title":"Max Players","description":"Maximum number of players","default":4},"current_players":{"items":{"type":"string"},"type":"array","title":"Current Players","description":"List of player IDs in the room"},"is_private":{"type":"boolean","title":"Is Private","description":"Whether the room is private","default":false},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Room password"},"game_state":{"additionalProperties":true,"type":"object","title":"Game State","description":"Current game state"},"custom_settings":{"additionalProperties":true,"type":"object","title":"Custom Settings","description":"Custom room settings"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Room creation timestamp"},"is_game_started":{"type":"boolean","title":"Is Game Started","description":"Whether the game has started","default":false}},"type":"object","required":["room_id","name","host_player_id"],"title":"Room","description":"Room model representing a game room/lobby.","example":{"created_at":"2024-01-01T12:00:00","current_players":["player_123","player_456"],"custom_settings":{"difficulty":"hard","map":"desert"},"game_state":{"round":1,"score":{"team_a":0,"team_b":0}},"host_player_id":"player_123","is_game_started":false,"is_private":false,"max_players":4,"name":"Epic Battle Arena","room_id":"room_456"}},"RoomCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Room name"},"max_players":{"type":"integer","maximum":100.0,"minimum":2.0,"title":"Max Players","description":"Maximum number of players","default":4},"is_private":{"type":"boolean","title":"Is Private","description":"Whether the room is private","default":false},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Room password for private rooms"},"custom_settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Custom Settings","description":"Custom room settings"}},"type":"object","required":["name"],"title":"RoomCreate","description":"Request model for creating a room."},"RoomUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Name","description":"Room name"},"max_players":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":2.0},{"type":"null"}],"title":"Max Players","description":"Maximum number of players"},"is_private":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Private","description":"Whether the room is private"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Room password"},"custom_settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Custom Settings","description":"Custom room settings"}},"type":"object","title":"RoomUpdate","description":"Request model for updating a room."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}